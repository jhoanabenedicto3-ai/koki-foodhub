{% extends 'layouts/base.html' %}

{% block title %}Pending Cashiers - Approvals{% endblock %}
{% block nav_title %}Pending Cashiers{% endblock %}

{% block content %}
  <div style="margin-bottom:20px">
    <h1 class="section-title">Pending Cashier Accounts</h1>
    <p style="color:var(--text-secondary);">Approve or reject cashier signups.</p>
  </div>

  {% if users %}
    <div class="card">
      <table style="width:100%;border-collapse:collapse">
        <thead>
          <tr>
            <th style="text-align:left;padding:12px">Username</th>
            <th style="text-align:left;padding:12px">Email</th>
            <th style="text-align:right;padding:12px">Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for u in users %}
            <tr style="border-top:1px solid var(--border)">
              <td style="padding:12px">{{ u.username }}</td>
              <td style="padding:12px">{{ u.email }}</td>
              <td style="padding:12px;text-align:right">
                <form method="post" action="{% url 'pending_cashier_approve' %}" style="display:inline-block;margin-right:8px">
                  {% csrf_token %}
                  <input type="hidden" name="user_id" value="{{ u.id }}">
                  <button class="btn primary" type="submit">Approve</button>
                </form>

                <form method="post" action="{% url 'pending_cashier_reject' %}" style="display:inline-block">
                  {% csrf_token %}
                  <input type="hidden" name="user_id" value="{{ u.id }}">
                  <button class="btn danger" type="submit" onclick="return confirm('Reject and delete this user?')">Reject</button>
                </form>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <div class="card" style="padding:24px;text-align:center">
      <p style="color:var(--text-secondary)">No pending cashier signups.</p>
    </div>
  {% endif %}

{% endblock %}
